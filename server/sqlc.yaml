version: "2"
sql:
  - engine: "postgresql"
    schema: "internal/sql/migrations" # or path to your migrations
    queries: "internal/sql/queries" # or directory with *.sql files
    gen:
      go:
        package: "db"              # change to your package name
        out: "internal/db"         # output directory for generated code
        sql_package: "pgx/v5"      # avoids database/sql null types
        emit_interface: true       # generates an interface for db access
        emit_json_tags: true       # adds JSON tags to struct fields
        emit_empty_slices: true    # avoids nil slices in results
        emit_pointers_for_null_types: false # avoid *string etc. for NOT NULL columns
        overrides:
          - db_type: "timestamptz"
            go_type: "time.Time"
          - db_type: "timestamp"
            go_type: "time.Time"
          - db_type: "date"
            go_type: "time.Time"
          - db_type: "uuid"
            go_type: "github.com/google/uuid.UUID"
          - db_type: "jsonb"
            go_type: "map[string]interface{}"
          - db_type: "json"
            go_type: "map[string]interface{}"
          - db_type: "text"
            go_type: "string"
          - db_type: "varchar"
            go_type: "string"
          - db_type: "int4"
            go_type: "int32"
          - db_type: "int8"
            go_type: "int64"
          - db_type: "numeric"
            go_type: "float64"
